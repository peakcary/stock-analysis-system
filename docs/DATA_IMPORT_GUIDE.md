# 数据导入功能使用指南

## 📋 功能概览

股票概念分析系统提供了两种不同的数据导入功能，分别用于处理股票基础信息和每日热度数据。每种导入方式都有其特定的用途和处理逻辑。

---

## 📊 CSV文件导入 - 股票基础信息

### 功能说明
用于导入和维护股票的基础信息，包括股票代码、名称、行业分类、概念关联等静态或半静态数据。

### 文件格式要求
```
股票代码,股票名称,全部页数,热帖首页页阅读总数,价格,行业,概念,换手,净流入
000001,平安银行,10,5000,12.50,银行,金融科技,2.5,1500000
000002,万科A,15,8000,25.80,房地产,地产,1.8,-200000
...
```

### 导入逻辑特点
- **导入模式**: 增量更新模式
- **概念关联**: 只添加新的概念关联关系，不删除已有关系
- **股票信息**: 完全使用最新CSV文件中的股票信息覆盖数据库
- **新建处理**: 自动创建CSV中出现的新股票和新概念
- **文件限制**: 最大100MB

### 适用场景
- 初始化股票基础数据
- 定期更新股票信息（名称变更、行业调整等）
- 添加新的概念关联关系
- 补充新上市股票信息

---

## 📈 TXT文件导入 - 每日热度数据

### 功能说明
用于导入每日的股票热度数据，这些数据通常每天都会更新，并且需要保持数据的时效性和准确性。

### 文件格式要求
```
股票代码<TAB>日期<TAB>热度值
000001	2025-09-06	1500.50
000002	2025-09-06	2800.75
SH600000	2025-09-06	3200.25
BJ430000	2025-09-06	1200.00
...
```

### 导入逻辑特点
- **导入模式**: 完全覆盖模式
- **日期检测**: 智能从文件内容中自动提取日期信息
- **数据覆盖**: 先删除指定日期的所有旧数据，再导入新数据
- **数据纠正**: 支持重新导入同一日期数据来修正错误
- **文件限制**: 最大50MB

### 适用场景
- 每日热度数据更新
- 历史数据补充导入
- 错误数据修正
- 数据重新计算后的更新

---

## 🖥️ 导入操作界面

### 导入入口
系统管理端 → 数据导入 → 选择对应的导入类型

### 操作步骤
1. **选择导入类型**: CSV基础信息导入 或 TXT热度数据导入
2. **选择文件**: 点击对应按钮选择本地文件
3. **确认导入**: 系统会自动验证文件格式并开始导入
4. **查看结果**: 导入完成后会显示详细的统计信息

### 导入结果显示
导入完成后，系统会显示以下统计信息：
- **总导入记录**: 成功导入到数据库的记录数量
- **跳过记录**: 由于各种原因跳过的记录数量
- **错误记录**: 导入失败的记录数量及具体错误信息
- **导入文件**: 导入的文件名和导入时间
- **导入模式**: 标识是新增导入还是覆盖导入

---

## ⚠️ 注意事项

### CSV导入注意事项
1. **编码格式**: 文件必须使用UTF-8编码
2. **表头必须**: 必须包含完整的表头行
3. **股票代码**: 必须是6位数字格式
4. **概念字段**: 支持一个股票对应多个概念
5. **数据覆盖**: 股票基础信息会被最新数据覆盖

### TXT导入注意事项
1. **分隔符**: 必须使用制表符（TAB）分隔字段
2. **日期格式**: 日期必须是YYYY-MM-DD格式
3. **股票代码**: 支持SH、SZ、BJ前缀，也支持纯数字格式
4. **完全覆盖**: 会完全删除指定日期的旧数据
5. **数据一致性**: 确保同一文件中的日期一致

### 通用注意事项
1. **文件大小**: CSV文件最大100MB，TXT文件最大50MB
2. **导入时间**: 大文件导入可能需要较长时间，请耐心等待
3. **数据备份**: 重要数据建议在导入前进行备份
4. **错误处理**: 如果导入失败，请检查文件格式和错误信息

---

## 🛠️ 故障排除

### 常见问题解决

#### CSV导入问题
- **编码错误**: 请确保文件使用UTF-8编码保存
- **格式错误**: 检查表头是否完整，字段分隔符是否正确
- **数据类型**: 确保数值字段包含有效的数字

#### TXT导入问题
- **分隔符错误**: 确保使用制表符（TAB）而非空格分隔
- **日期格式**: 检查日期是否符合YYYY-MM-DD格式
- **股票代码**: 确保股票代码格式正确

#### 通用问题
- **文件过大**: 如果文件超出大小限制，请分割后分批导入
- **网络超时**: 大文件导入时如遇超时，请重新尝试
- **权限问题**: 确保使用管理员账户进行导入操作

---

## 📞 技术支持

如果在使用过程中遇到问题，请：
1. 查看错误信息中的具体提示
2. 检查文件格式是否符合要求
3. 确认文件大小是否在限制范围内
4. 联系系统管理员获取技术支持

---

**文档版本**: v1.0  
**最后更新**: 2025-09-06  
**更新内容**: 数据导入功能完整说明文档