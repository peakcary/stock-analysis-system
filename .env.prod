# 生产环境配置
# Production Environment Configuration

# 数据库配置
DATABASE_URL=mysql+pymysql://root:CHANGE_ROOT_PASSWORD@mysql:3306/stock_analysis
MYSQL_ROOT_PASSWORD=CHANGE_ROOT_PASSWORD
MYSQL_DATABASE=stock_analysis
MYSQL_USER=stockuser
MYSQL_PASSWORD=CHANGE_USER_PASSWORD

# JWT 配置 - 请更改为随机生成的密钥
SECRET_KEY=CHANGE_THIS_SECRET_KEY_TO_RANDOM_STRING_AT_LEAST_32_CHARS
ACCESS_TOKEN_EXPIRE_MINUTES=60
ALGORITHM=HS256

# 应用配置
ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG=false

# API 配置
API_V1_STR=/api/v1
PROJECT_NAME="Stock Analysis System - Production"

# 前端配置 - 请更改为您的实际域名
REACT_APP_API_URL=https://your-domain.com/api/v1
REACT_APP_ENVIRONMENT=production
VITE_API_URL=https://your-domain.com

# 服务器配置
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_PORT=3000
CLIENT_PORT=8006

# 客户端配置 (用户端)
VITE_CLIENT_API_URL=https://your-domain.com

# Nginx 配置
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# 微信支付配置 - 请填入实际配置
WECHAT_APPID=your_actual_wechat_appid
WECHAT_MCHID=your_actual_wechat_mchid
WECHAT_KEY=your_actual_wechat_key
WECHAT_NOTIFY_URL=https://your-domain.com/api/v1/payment/notify

# 数据库连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis 配置 (如果使用缓存)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGE_REDIS_PASSWORD

# 安全配置
CORS_ORIGINS=["https://your-domain.com", "https://www.your-domain.com"]
ALLOWED_HOSTS=["your-domain.com", "www.your-domain.com"]

# 邮件配置 (如果需要发送邮件)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=noreply@your-domain.com

# 文件上传配置
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_PATH=/app/uploads

# 监控配置
ENABLE_METRICS=true
METRICS_PORT=9090

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点备份
BACKUP_RETENTION_DAYS=30

# SSL 配置
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# 性能优化
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024
KEEPALIVE_TIMEOUT=65

# 日志配置
LOG_FORMAT=json
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10